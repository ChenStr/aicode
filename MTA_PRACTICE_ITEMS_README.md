# MTA定义实践项配置功能说明

## 功能概述

根据用户需求，对MTA授权定义中的实践项配置进行了重新设计，将工作项类型重新分类为"技能"和"实操"两大类，并且在MTA定义中每个工作项都可以单独设置是否必填。

## 主要修改内容

### 1. 工作项类型重新分类

**原来的类型分类：**
- 设备、巡检、教学、安全、技能、考核、维护、应急等

**新的类型分类：**
- **技能类型**：教学方案制定、安全操作规程、故障诊断训练、应急处理
- **实操类型**：设备升级、系统巡检、实操考核、设备维护

### 2. MTA定义实践项配置重构

**原来的配置方式：**
- 使用多选复选框选择工作项
- 只能设置整体必选和数量限制

**新的配置方式：**
- 根据工作项类型分别配置（技能实践项目 vs 实操实践项目）
- 每个具体的工作项都可以单独设置是否必填
- 支持动态添加和删除实践项
- 保留数量限制设置（至少选择数量、至少完成次数）

### 3. 数据结构更新

**实践项数据结构：**
```javascript
{
  id: 'p_001',           // 实践项唯一标识
  workItemId: 'w_004',   // 关联的工作项ID
  isRequired: false      // 是否必填
}
```

**MTA授权数据结构：**
```javascript
{
  // ... 其他字段
  skillPractices: { 
    minSelect: 1,         // 至少选择数量
    minTimes: 1,          // 至少完成次数
    items: [               // 具体实践项列表
      { id: 'p_001', workItemId: 'w_004', isRequired: true },
      { id: 'p_002', workItemId: 'w_005', isRequired: false }
    ] 
  },
  operationPractices: { 
    minSelect: 1,         // 至少选择数量
    minTimes: 1,          // 至少完成次数
    items: [               // 具体实践项列表
      { id: 'p_003', workItemId: 'w_001', isRequired: true },
      { id: 'p_004', workItemId: 'w_002', isRequired: false }
    ] 
  }
}
```

## 功能特性

### 1. 分类配置
- **技能实践项目**：配置技能类工作项，如安全操作规程、故障诊断训练等
- **实操实践项目**：配置实操类工作项，如设备升级、系统巡检等

### 2. 灵活配置
- 每个工作项都可以单独设置是否必填
- 支持动态添加和删除实践项
- 可以设置整体必选和数量限制

### 3. 用户界面
- 清晰的分组显示（技能实践 vs 实操实践）
- 直观的必填复选框设计
- 友好的添加/删除操作按钮

## 使用方法

### 配置技能实践项目
1. 在"实践配置"标签页中选择"技能实践配置"
2. 点击"➕ 添加技能实践项目"按钮
3. 从下拉列表中选择技能类工作项
4. 勾选"必填"复选框（如需要）
5. 重复步骤2-4添加更多项目

### 配置实操实践项目
1. 在"实践配置"标签页中选择"实操实践配置"
2. 点击"➕ 添加实操实践项目"按钮
3. 从下拉列表中选择实操类工作项
4. 勾选"必填"复选框（如需要）
5. 重复步骤2-4添加更多项目

### 数量设置
- **至少选择**：设置必须选择的最少项目数量
- **至少完成**：设置必须完成的最少次数

## 技术实现

### 1. 组件更新
- 修改了 `MtaAuthorizationDefinition.vue` 组件
- 更新了实践项配置的UI和逻辑
- 添加了实践项的增删改功能

### 2. 数据管理
- 更新了 `workItems.js` 中的工作项类型分类
- 修改了 `mtaAuths.js` 中的数据结构
- 实现了实践项配置的持久化存储

### 3. 样式设计
- 新增了实践项配置的专用样式
- 优化了用户界面的交互体验
- 保持了与整体设计风格的一致性

## 注意事项

1. **工作项类型**：确保工作项已正确分类为"技能"或"实操"
2. **必填设置**：每个工作项的必填设置是独立的，不影响其他项目
3. **数据迁移**：原有的MTA授权数据需要重新配置实践项
4. **数量限制**：可以设置至少选择数量和至少完成次数

## 优势

1. **分类清晰**：技能和实操分开配置，逻辑更清晰
2. **灵活配置**：每个工作项都可以单独设置必填状态
3. **用户友好**：界面直观，操作简单
4. **功能完整**：保留了数量限制设置功能
5. **扩展性强**：支持动态添加和删除实践项
